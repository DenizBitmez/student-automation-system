<div class="sidebar-header d-flex align-items-center px-4 py-4">
    <a class="navbar-brand d-flex align-items-center gap-3" href="/">
        <div class="brand-bolt bg-primary shadow-glow rounded-3 d-flex align-items-center justify-content-center" style="width: 42px; height: 42px;">
            <i class="bi bi-mortarboard-fill text-white fs-4"></i>
        </div>
        <div class="brand-info">
            <h1 class="h5 mb-0 text-white fw-bold tracking-tight">OtoSistem</h1>
            <span class="text-white-50 small fw-medium" style="font-size: 0.65rem; letter-spacing: 1px; text-transform: uppercase;">Akademik Yönetim</span>
        </div>
    </a>
</div>

<div class="sidebar-content px-3 py-2 mt-2">
    <nav class="nav flex-column gap-2">
        <AuthorizeView>
            <Authorized>
                <div class="nav-section-label px-3 mt-4 mb-2">GENEL</div>
                <div class="nav-item">
                    <NavLink class="nav-link modernized-nav-link" href="/dashboard" Match="NavLinkMatch.All">
                        <i class="bi bi-grid-1x2-fill"></i>
                        <span>Panel</span>
                    </NavLink>
                </div>

                <AuthorizeView Roles="Admin" Context="adminContext">
                    <div class="nav-section-label px-3 mt-4 mb-2">YÖNETİM</div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenciler">
                            <i class="bi bi-people-fill"></i>
                            <span>Öğrenciler</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogretmenler">
                            <i class="bi bi-person-badge-fill"></i>
                            <span>Öğretmenler</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/dersler">
                            <i class="bi bi-journal-bookmark-fill"></i>
                            <span>Dersler</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/sikayetler">
                            <i class="bi bi-chat-left-dots-fill"></i>
                            <span>Şikayetler</span>
                        </NavLink>
                    </div>
                </AuthorizeView>

                <AuthorizeView Roles="Teacher" Context="teacherContext">
                    <div class="nav-section-label px-3 mt-4 mb-2">EĞİTMEN</div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/dersler">
                            <i class="bi bi-journal-check"></i>
                            <span>Derslerim</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenciler">
                            <i class="bi bi-people"></i>
                            <span>Öğrencilerim</span>
                        </NavLink>
                    </div>
                </AuthorizeView>

                <AuthorizeView Roles="Student" Context="studentContext">
                    <div class="nav-section-label px-3 mt-4 mb-2">ÖĞRENCİ</div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenci/notlar">
                            <i class="bi bi-journal-text"></i>
                            <span>Notlarım</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenci/devamsizlik">
                            <i class="bi bi-calendar-check-fill"></i>
                            <span>Devamsızlık Durumu</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenci/belgeler">
                            <i class="bi bi-file-earmark-pdf-fill"></i>
                            <span>Karneler & Belgeler</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenci/aktiviteler">
                            <i class="bi bi-stars"></i>
                            <span>Sosyal Aktiviteler</span>
                        </NavLink>
                    </div>
                    <div class="nav-item">
                        <NavLink class="nav-link modernized-nav-link" href="/ogrenci/sikayet">
                            <i class="bi bi-chat-dots-fill"></i>
                            <span>Dilek & Şikayet</span>
                        </NavLink>
                    </div>
                </AuthorizeView>
            </Authorized>
        </AuthorizeView>
    </nav>
</div>

<style>
    .nav-section-label {
        color: rgba(255, 255, 255, 0.3);
        font-size: 0.65rem;
        font-weight: 700;
        letter-spacing: 0.05em;
    }

    .modernized-nav-link {
        display: flex;
        align-items: center;
        gap: 0.875rem;
        padding: 0.625rem 1rem;
        border-radius: var(--radius-md);
        color: rgba(255, 255, 255, 0.6);
        font-weight: 500;
        transition: var(--transition);
        font-size: 0.875rem;
        line-height: 1.25;
    }

    .modernized-nav-link:hover {
        background: rgba(255, 255, 255, 0.05);
        color: white;
    }

    .modernized-nav-link i {
        font-size: 1.125rem;
        transition: var(--transition);
    }

    .modernized-nav-link.active {
        background: var(--primary);
        color: white;
        box-shadow: 0 4px 12px rgba(99, 102, 241, 0.25);
    }

    .modernized-nav-link.active i {
        color: white;
    }
</style>

@code {
    private bool collapseNavMenu = true;
    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;
    private void ToggleNavMenu() => collapseNavMenu = !collapseNavMenu;
}